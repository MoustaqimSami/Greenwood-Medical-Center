<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Dashboard | GMC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="stylesheet" href="../../css/template.css" />
  <link rel="stylesheet" href="../../css/components.css" />

  <link rel="stylesheet" href="../../css/appointmentStyles/appointmentPopup.css" />
</head>

<body>
  <div class="app-shell">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sidebar-inner">
        <div class="sidebar-top">
          <button class="brand-button" aria-label="Clinic home">
            <img src="../../assets/icons/logo.svg" alt="Clinic logo" class="brand-logo" />
          </button>

          <button class="sidebar-toggle" aria-label="Toggle sidebar">
            <img src="../../assets/icons/layout-sidebar.svg" data-open-src="../../assets/icons/layout-sidebar.svg"
              data-collapsed-src="../../assets/icons/layout-sidebar-closed.svg" alt="Toggle sidebar"
              class="sidebar-toggle-icon" />
          </button>
        </div>

        <!-- Navigation -->
        <nav class="sidebar-nav">
          <a class="nav-item" href="../HomePage/dashboard.html">
            <img class="nav-icon" src="../../assets/icons/home.svg" alt="" />
            <span class="nav-label">Home</span>
          </a>

          <a class="nav-item" href="../SchedulePage/schedule.html">
            <img class="nav-icon" src="../../assets/icons/calendar.svg" alt="" />
            <span class="nav-label">Schedule</span>
          </a>

          <a class="nav-item" href="../PatientPages/patients.html">
            <img class="nav-icon" src="../../assets/icons/people.svg" alt="" />
            <span class="nav-label">Patients</span>
          </a>

          <a class="nav-item" href="../DoctorPages/doctors.html">
            <img class="nav-icon" src="../../assets/icons/stethoscope.svg" alt="" />
            <span class="nav-label">Doctors</span>
          </a>
        </nav>

        <!-- Bottom Links -->
        <div class="sidebar-bottom">
          <a class="nav-item" href="#">
            <img class="nav-icon" src="../../assets/icons/question-circle.svg" alt="" />
            <span class="nav-label">Help center</span>
          </a>

          <a class="nav-item" href="#">
            <img class="nav-icon" src="../../assets/icons/tabler_logout.svg" alt="" />
            <span class="nav-label">Log out</span>
          </a>
        </div>
      </div>
    </aside>

    <!-- MAIN CONTENT -->
    <div class="main">
      <!-- HEADER -->
      <header class="topbar">
        <div class="topbar-left"></div>

        <div class="topbar-right">
          <button class="icon-button" aria-label="Notifications">
            <img src="../../assets/icons/alert.svg" alt="Notifications" />
          </button>

          <div class="user-chip">
            <div class="avatar-circle">
              <img src="../../assets/icons/person.svg" alt="User profile" class="avatar-icon" />
            </div>
            <div class="user-meta">
              <span class="user-name">Selena Doe</span>
              <span class="user-role">Front Desk Staff</span>
            </div>
          </div>
        </div>
      </header>

      <!-- PAGE CONTENT -->
      <main class="page">
        <!-- Page Header (Greeting and Current Week) -->
        <header class="page-header page-header--twoitems">
          <h1 class="page-title">Good morning, Selena</h1>
          <div class="week-view">
            <img src="/assets/icons/calendar-empty.svg" width="20" height="20">
            <p class="body-md-regular" id="week-range-label">20 Oct - 27 Oct 2025</p>
          </div>
        </header>

        <!-- Page Content (Shortcuts & Calendar) -->
        <div class="home-shortcuts-box">
          <!-- Quick Actions: Book Appointment and Add Patient -->
          <div class="quick-action" id="dashboard-book-appointment">
            <div class="quick-action-iconbox quick-action-iconbox--orange">
              <img src="/assets/icons/calendar-add-n50.svg">
            </div>
            <div class="quick-action-text">
              <p class="body-md-medium" style="color: var(--secondary-500);">Book Appointment</p>
              <img src="/assets/icons/chevron-right.svg" width="20" height="20">
            </div>
          </div>
          <div class="quick-action" id="dashboard-add-patient">
            <div class="quick-action-iconbox quick-action-iconbox--teal">
              <img src="/assets/icons/person-add-fill-n50.svg">
            </div>
            <div class="quick-action-text">
              <p class="body-md-medium" style="color: var(--secondary-500);">Add Patient</p>
              <img src="/assets/icons/chevron-right.svg" width="20" height="20">
            </div>
          </div>

          <!-- Weekly Calendar -->
          <div class="week-calendar">
            <div class="week-calendar-header">
              <p class="body-xl-semibold" id="week-month-label">October, 2025</p>
              <div class="flexrow-gap8">
                <div class="week-nav-btn" id="week-prev-btn">
                  <svg xmlns="http://www.w3.org/2000/svg" class="week-nav-icon" viewBox="0 0 16 16">
                    <path
                      d="M10.3535 2.81307C10.5488 3.00833 10.5488 3.32492 10.3535 3.52018L5.87373 7.99996L10.3535 12.4798C10.5488 12.675 10.5488 12.9916 10.3535 13.1868C10.1582 13.3821 9.84169 13.3821 9.64642 13.1868L4.81307 8.35349C4.61781 8.15822 4.61781 7.84169 4.81307 7.64642L9.64642 2.81307C9.84169 2.61781 10.1582 2.61781 10.3535 2.81307Z" />
                  </svg>
                </div>
                <div class="week-nav-btn" id="week-next-btn">
                  <svg xmlns="http://www.w3.org/2000/svg" class="week-nav-icon" viewBox="0 0 16 16">
                    <path
                      d="M5.64645 2.81307C5.45118 3.00833 5.45118 3.32492 5.64645 3.52018L10.1262 7.99996L5.64645 12.4798C5.45118 12.675 5.45118 12.9916 5.64645 13.1868C5.84171 13.3821 6.15829 13.3821 6.35355 13.1868L11.1869 8.35349C11.3821 8.15823 11.3821 7.84169 11.1869 7.64642L6.35355 2.81307C6.15829 2.61781 5.84171 2.61781 5.64645 2.81307Z" />
                  </svg>
                </div>
              </div>
            </div>
            <div class="flexrow-gap8 week-days-container" id="week-days-container">
              <!-- JS will render -->
            </div>
          </div>
        </div>

        <div class="dashboard-section">
          <!-- Page Content (Appointments Section) -->
          <section class="page-body page-body--section appointments-section">
            <div class="flexcol-gap12">
              <h class="body-xl-semibold"> Appointments </h>
              <div class="tabs" id="appointments-tabs">
                <button class="tab tab--active" data-tab="upcoming">Upcoming</button>
                <button class="tab" data-tab="completed">Completed</button>
              </div>
            </div>
            <div class="appointments-div">
              <!-- Upcoming appointments -->
              <div class="tab-panel tab-panel--active custom-scroll" id="upcoming-appointments-panel">
                <!-- JS will render -->
              </div>

              <!-- Completed appointments -->
              <div class="tab-panel custom-scroll" id="completed-appointments-panel">
                <!-- JS will render  -->
              </div>
            </div>
          </section>

          <!-- Page Content (Doctors Today Section) -->
          <section class="page-body page-body--section doctors-today-section">
            <h class="body-xl-semibold"> Doctors Today </h>
            <div class="doctors-today-list custom-scroll" id="doctors-today-list">
              <!-- JS will render -->
            </div>
          </section>

        </div>

      </main>
    </div>

    <!-- Help center in-development toast -->
    <div id="helpcenter-toast" class="helpcenter-toast" role="status" aria-live="polite">
      <div class="helpcenter-toast-content">
        <div class="helpcenter-toast-text">
          <strong class="helpcenter-toast-title">Feature in development</strong>
          <span class="helpcenter-toast-body">
            This feature is still under development. Please check back soon.
          </span>
        </div>

        <button type="button" class="helpcenter-toast-close" aria-label="Dismiss notification">
          Ã—
        </button>
      </div>

      <script src="../../database/appointments-database.js"></script>
      <script src="../../database/doctors-database.js"></script>
      <script src="../../database/patients-database.js"></script>

      <script src="./dashboardLogic/dashboard-namespace.js"></script>
      <script src="./dashboardLogic/dashboard-helpers.js"></script>
      <script src="./dashboardLogic/dashboard-ui.js"></script>
      <script src="./dashboardLogic/dashboard-state.js"></script>
      <script src="./dashboardLogic/dashboard-calendar.js"></script>
      <script src="./dashboardLogic/dashboard-appointments.js"></script>
      <script src="./dashboardLogic/dashboard-doctors.js"></script>
      <script src="./dashboardLogic/dashboard-init.js"></script>

      <script src="../DoctorPages/scheduleLogic/doctors-schedule.js"></script>
      <script src="../DoctorPages/scheduleLogic/week-selector.js"></script>
      <script src="../DoctorPages/scheduleLogic/appointmentModal-doctorSearch.js"></script>
      <script src="../DoctorPages/scheduleLogic/appointmentModal-patientSearch.js"></script>
      <script src="../DoctorPages/scheduleLogic/appointmentModal-core.js"></script>
      <script src="../DoctorPages/scheduleLogic/appointmentModal-buttons.js"></script>

      <script src="../layout.js"></script>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const bookShortcut = document.getElementById("dashboard-book-appointment");
          if (bookShortcut) {
            bookShortcut.addEventListener("click", function () {
              // Doctors schedule with booking modal
              window.location.href = "../DoctorPages/doctorsSchedule.html?open=book";
            });
          }

          const addPatientShortcut = document.getElementById("dashboard-add-patient");
          if (addPatientShortcut) {
            addPatientShortcut.addEventListener("click", function () {
              // Patients page with Add Patient modal open
              window.location.href = "../PatientPages/patients.html?open=addPatient";
            });
          }
        });
      </script>

</body>

</html>